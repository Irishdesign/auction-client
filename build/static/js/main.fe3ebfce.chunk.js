(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{205:function(e,t,a){},206:function(e,t,a){},212:function(e,t,a){},299:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},315:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c);a(205),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(26),u=a.n(o),i=a(35),s=a(7),m=(a(206),"SET_USER"),E="SET_CURRENT_AUCTION",p="SET_SHOW_MENU",f="SET_SHOW_CREATE",d="SET_PLAYER_DATA",b="LOG_OUT";function v(e){return{type:m,data:e}}function h(){return{type:b,data:!1}}var g=function(e){return{type:E,data:e}},S=a(325),I=a(196),_=a(45),y=a(30),O=(a(212),a(320)),k=a(323),N=a(322),w=function(e){return"https://autcion.herokuapp.com/api/auction/".concat(e)},C=function(e){return"https://autcion.herokuapp.com/api/auction/".concat(e,"/order")},A=function(e){return"https://autcion.herokuapp.com/api/auction/".concat(e,"/player")},j=function(e){return"https://autcion.herokuapp.com/api/auction/".concat(e,"/start")},T=function(e){return"https://autcion.herokuapp.com/api/auction/".concat(e,"/close")},D="get",L="post",x={ENGLISH:"E",DUTCH:"D",SEALED1:"S1",SEALED2:"S2"},F={UNIFORM:"U",GAUSSIAN:"G"},U="acuxxxtoxxxken",P=a(58),H=a.n(P),R=function(e,t){return H.a.post("https://autcion.herokuapp.com/api/auth/signin",e).then((function(e){return localStorage.setItem(U,e.data.accessToken),t&&t(),e}),(function(e){console.log(e)}))},G=localStorage.getItem(U),q=function(){var e=localStorage.getItem(U);return e?H()({method:L,url:"https://autcion.herokuapp.com/api/auth/user",data:{token:e}}).then((function(e){return console.log(999999,e.data),localStorage.setItem(U,e.data.accessToken),e.data}),(function(e){console.log(e)})):null},M=function(){var e=localStorage.getItem(U);return console.log("getMenu token",e),H()({method:D,url:"https://autcion.herokuapp.com/api/auction/list",headers:{"x-access-token":e}}).then((function(e){return console.log("getMenu",e),e.data}),(function(e){console.log(e)}))},B=function(e){var t=localStorage.getItem(U);return console.log("createAuction token",t),H()({method:L,url:"https://autcion.herokuapp.com/api/auction",data:e,headers:{"x-access-token":t}}).then((function(e){return console.log("createAuction",e),e.data}),(function(e){console.log(e)}))},W=function(e,t){var a=localStorage.getItem(U);return console.log("createOrder token",a),H()({method:L,url:C(e),data:t,headers:{"x-access-token":a}}).then((function(e){return console.log("createOrder",e),e.data}),(function(e){console.log(e)}))},V=function(e,t){return H()({method:L,url:A(e),data:{name:t}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},K=function(e){var t=localStorage.getItem(U);return H()({method:D,url:w(e),headers:{"x-access-token":t}}).then((function(e){return e.data}),(function(e){console.log(e)}))},z=function(e,t){return console.log("startAuction token",G),H()({method:D,url:j(e),headers:{"x-access-token":G}}).then((function(e){return console.log("startAuction",e),e.data}),(function(e){console.log(e)}))},J=function(e,t){return console.log("closeAuction token",G),H()({method:D,url:T(e),headers:{"x-access-token":G}}).then((function(e){return console.log("closeAuction",e),e.data}),(function(e){console.log(e)}))},Y={labelCol:{span:8},wrapperCol:{span:16}},$={wrapperCol:{offset:8,span:16}},Q=function(e){var t=O.a.useForm(),a=Object(s.a)(t,1)[0],n=(Object(y.b)(),e.visible),c=e.close;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{visible:n,title:"Sign up",onCancel:function(){c()},footer:null},r.a.createElement(O.a,Object.assign({},Y,{form:a,name:"control-hooks",onFinish:function(e){console.log(e),function(e,t){H.a.post("https://autcion.herokuapp.com/api/auth/signup",e).then((function(a){return console.log(a),R(e),t&&t(),a}),(function(e){console.log(e)}))}(e,c),console.log("signup",e)}}),r.a.createElement(O.a.Item,{name:"username",label:"Name",rules:[{required:!0}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,{name:"email",label:"Email",rules:[{required:!0}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,{name:"password",label:"Password",rules:[{required:!0}]},r.a.createElement(N.a.Password,null)),r.a.createElement(O.a.Item,$,r.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Submit"),r.a.createElement(_.a,{htmlType:"button",onClick:function(){a.setFieldsValue({username:"abc",email:"abc@gmail.com",password:"12345"})}},"Reset")))))},X={labelCol:{span:8},wrapperCol:{span:16}},Z={wrapperCol:{offset:8,span:16}},ee=function(e){var t=O.a.useForm(),a=Object(s.a)(t,1)[0],n=Object(y.b)(),c=localStorage.getItem(U);r.a.useEffect((function(){c&&q()}),[]);var l=e.visible,o=e.close;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{visible:l,title:"Log in",onCancel:function(){o()},footer:null},r.a.createElement(O.a,Object.assign({},X,{form:a,name:"control-hooks",onFinish:function(e){R(e).then((function(e){console.log(1111,e.data.accessToken),n(v(e.data)),o()}))}}),r.a.createElement(O.a.Item,{name:"username",label:"name",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,{name:"password",label:"Password",rules:[{required:!0}]},r.a.createElement(N.a.Password,null)),r.a.createElement(O.a.Item,Z,r.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Submit"),r.a.createElement(_.a,{htmlType:"button",onClick:function(){a.setFieldsValue({username:"abc",password:"12345"})}},"Reset")))))},te=a(104),ae=a(321),ne=a(105),re=te.a.Option,ce={wrapperCol:{offset:8,span:16}},le=function(e){var t=O.a.useForm(),a=Object(s.a)(t,1)[0],n=r.a.useState(!1),c=Object(s.a)(n,2),l=c[0],o=c[1],m=r.a.useState(!1),E=Object(s.a)(m,2),p=E[0],f=E[1],d=r.a.useState(!1),b=Object(s.a)(d,2),v=b[0],h=b[1],g=e.visible,S=e.close,I=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("onFinish",t),e.next=3,B(t);case 3:a=e.sent,S(),window.open("/?no=".concat(a.no),"_self");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{visible:g,title:"New Auction",onCancel:function(){S()},width:1e3,footer:[]},r.a.createElement(O.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",form:a,name:"control-hooks",onFinish:I},r.a.createElement(O.a.Item,{name:"title",label:"title",rules:[{required:!0}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,{name:"auc_type",label:"type",rules:[{required:!0}]},r.a.createElement(te.a,{initialValue:x.ENGLISH,style:{width:150,margin:"0 8px"},onChange:function(e){console.log("select",e),f(e===x.SEALED1||e===x.SEALED2)}},r.a.createElement(re,{value:x.ENGLISH},"ENGLISH"),r.a.createElement(re,{value:x.DUTCH},"DUTCH"),r.a.createElement(re,{value:x.SEALED1},"SEALED1"),r.a.createElement(re,{value:x.SEALED2},"SEALED2"))),r.a.createElement(O.a.Item,{name:"period",label:"Time limitaion"},r.a.createElement(ae.a,null)),p?null:r.a.createElement(O.a.Item,{name:"init_price",label:"init_price",rules:[{required:!0}]},r.a.createElement(ae.a,null)),r.a.createElement(O.a.Item,{name:"reservation_price",label:"Resevation price",rules:[{required:!0}]},r.a.createElement(ae.a,null)),r.a.createElement(O.a.Item,{name:"value_type",label:"user value type ",rules:[{required:!0}]},r.a.createElement(te.a,{initialValue:F.UNIFORM,onChange:function(e){console.log("setIsGaussian",e),h(e===F.GAUSSIAN)}},r.a.createElement(re,{value:F.UNIFORM},"UNIFORM"),r.a.createElement(re,{value:F.GAUSSIAN},"GAUSSIAN"))),r.a.createElement(O.a.Item,{name:"from_std",label:v?"std":"from",rules:[{required:!0}]},r.a.createElement(ae.a,null)),r.a.createElement(O.a.Item,{name:"to_dev",label:v?"dev":"to",rules:[{required:!0}]},r.a.createElement(ae.a,null)),p?null:r.a.createElement(O.a.Item,{name:"is_auto",label:"is auto"},r.a.createElement(ne.a,{onChange:function(e){console.log("isAuto",e.target.checked),o(e.target.checked)}})),l?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{name:"auto_p_fragment",label:"auto_p_fragment",rules:[{required:!0}]},r.a.createElement(ae.a,null)),r.a.createElement(O.a.Item,{name:"auto_t_fragment",label:"auto_t_fragment",rules:[{required:!0}]},r.a.createElement(ae.a,null))):null,r.a.createElement(O.a.Item,ce,r.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Submit"),r.a.createElement(_.a,null,"cancel")))))},oe=a(137),ue=a(138),ie=function(e){var t=n.useState(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],l=n.useState(!1),o=Object(s.a)(l,2),m=o[0],E=o[1],d=Object(y.c)((function(e){return e.isLogin})),b=Object(y.b)(),g=Object(y.c)((function(e){return e.showMenu})),O=Object(y.c)((function(e){return e.showCreatePanel})),k=function(){var e;b((e=!g,console.log("setShowMenu",e),{type:p,data:e}))},N=function(e){b(function(e){return console.log("setShowCreatePanel",e),{type:f,data:e}}(e))};n.useEffect((function(){w()}),[]);var w=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:if(t=e.sent,console.log(t),!(t.status>=400)){e.next=7;break}return I.b.warning(t.message),e.abrupt("return");case 7:t&&b(v(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.createElement("div",{className:"navBar"},n.createElement("div",{className:"groupLogo"},n.createElement("div",{className:"logoIcon burger",onClick:function(){return k()}},n.createElement(S.a,null)),n.createElement("div",{className:"logoTxt"},"Auction Game"),n.createElement("div",{className:"logoIcon"},n.createElement(oe.a,{icon:ue.a}))),n.createElement("div",{className:"groupBtn"},d?n.createElement(n.Fragment,null,n.createElement("div",{className:"navBtn"},n.createElement(_.a,{onClick:function(){return N(!0)}},"New Auction")),n.createElement("div",{className:"navBtn"},n.createElement(_.a,{onClick:function(){b(h())}},"Log out"))):n.createElement(n.Fragment,null,n.createElement("div",{className:"navBtn"},n.createElement(_.a,{onClick:function(){return E(!0)}},"Sign up")),n.createElement("div",{className:"navBtn"},n.createElement(_.a,{onClick:function(){return c(!0)}},"Login"))),m?n.createElement(Q,{visible:m,close:function(){return E(!1)}}):null,r?n.createElement(ee,{visible:r,close:function(){return c(!1)}}):null,O?n.createElement(le,{visible:O,close:function(){return N(!1)}}):null))},se=a(5),me=(a(299),a(82)),Ee=a(326),pe=a(327),fe=a(328),de=a(78),be=a.n(de),ve=a(75),he=a(144),ge=me.a.SubMenu,Se=function(e){var t,a,n,c,l=r.a.useState(),o=Object(s.a)(l,2),m=o[0],E=o[1],p=r.a.useState(x.ENGLISH),f=Object(s.a)(p,2),d=f[0],b=f[1],v=Object(y.c)((function(e){return e.currentAuction})),g=Object(y.b)();r.a.useEffect((function(){S()}),[]),r.a.useEffect((function(){b(v.auc_type),console.log(774411,v)}),[v]);var S=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(!((a=e.sent).status>=400)){e.next=7;break}return I.b.warning(a.message),g(h()),e.abrupt("return");case 7:console.log(8888,a,x.ENGLISH),t={},Object(se.a)(t,x.ENGLISH,_(x.ENGLISH,a)),Object(se.a)(t,x.DUTCH,_(x.DUTCH,a)),Object(se.a)(t,x.SEALED1,_(x.SEALED1,a)),Object(se.a)(t,x.SEALED2,_(x.SEALED2,a)),E(n=t),console.log(2222,n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e,t){var a=[];return Array.isArray(t)&&t&&(a=null===t||void 0===t?void 0:t.filter((function(t){return t.auc_type===e}))),a},O=function(e){b(e)};return r.a.createElement("div",{className:"sideMenu"},r.a.createElement(me.a,{defaultSelectedKeys:["1"],defaultOpenKeys:[x.ENGLISH],openKeys:[d],mode:"inline",theme:"light",inlineCollapsed:!1},r.a.createElement(ge,{key:x.ENGLISH,icon:r.a.createElement(Ee.a,null),title:"English",onTitleClick:function(){O(x.ENGLISH)}},m&&(null===(t=m[x.ENGLISH])||void 0===t?void 0:t.map((function(e){return r.a.createElement(me.a.Item,{key:e.no},r.a.createElement(ve.b,{to:"/?no=".concat(e.no)},null!==e.close_time?r.a.createElement(he.a,null):null,e.title))})))),r.a.createElement(ge,{key:x.DUTCH,icon:r.a.createElement(pe.a,null),title:"Dutch",onTitleClick:function(){O(x.DUTCH)}},m&&(null===(a=m[x.DUTCH])||void 0===a?void 0:a.map((function(e){return r.a.createElement(me.a.Item,{key:e.no},r.a.createElement(ve.b,{to:"/?no=".concat(e.no)},null!==e.close_time?r.a.createElement(he.a,null):null,e.title))})))),r.a.createElement(ge,{key:x.SEALED1,icon:r.a.createElement(fe.a,null),title:"Sealed",onTitleClick:function(){O(x.SEALED1)}},m&&(null===(n=m[x.SEALED1])||void 0===n?void 0:n.map((function(e){return r.a.createElement(me.a.Item,{key:e.no},r.a.createElement(ve.b,{to:"/?no=".concat(e.no)},null!==e.close_time?r.a.createElement(he.a,null):null,e.title))})))),r.a.createElement(ge,{key:x.SEALED2,icon:r.a.createElement(fe.a,null),title:"Sealed second",onTitleClick:function(){O(x.SEALED2)}},m&&(null===(c=m[x.SEALED2])||void 0===c?void 0:c.map((function(e){return r.a.createElement(me.a.Item,{key:e.no},r.a.createElement(ve.b,{to:"/?no=".concat(e.no)},null!==e.close_time?r.a.createElement(he.a,null):null,e.title))}))))))},Ie=a(324),_e=function(e){e.visible,e.close;var t=e.data,a=e.isPlayer,n=e.playerInfo,c=t.no,l=t.title,o=t.start_time,u=t.left_time,i=t.auto_t_fragment,s=t.auto_p_fragment,m=t.from_std,E=t.init_price,p=t.is_auto,f=t.period,d=t.reservation_price,b=t.to_dev,v=t.value_type,h=t.winner,g=t.auc_type,S=t.close_time,I=t.current_price,_=function(e){var t;return null===e||void 0===e||null===(t=e.split(".")[0])||void 0===t?void 0:t.replace("T"," ")},y="- -";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b,{title:"Title: "+l,column:5,vertical:!0},r.a.createElement(Ie.b.Item,{label:"No",span:3},r.a.createElement("a",{href:"/invitation?title=".concat(l,"&no=").concat(c),target:"_blank"},c)),r.a.createElement(Ie.b.Item,{label:"Start at"},_(o)||y),S?r.a.createElement(Ie.b.Item,{label:"Close at"},_(S)||y):r.a.createElement(Ie.b.Item,{label:"Left"},u||y)),r.a.createElement(Ie.b,{size:"small",column:3,bordered:!0},r.a.createElement(Ie.b.Item,{label:"Type"},function(e){var t="";return Object.keys(x).forEach((function(a){e==x[a]&&(t=a)})),t}(g)),r.a.createElement(Ie.b.Item,{label:"Start Price"},E||"-"),r.a.createElement(Ie.b.Item,{label:"Time Limitation"},f," mins"),a&&n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b.Item,{label:"Name"},n.name),r.a.createElement(Ie.b.Item,{label:"init_value"},n.init_value),r.a.createElement(Ie.b.Item,{label:"current_value"},n.current_value)):null,a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b.Item,{label:"User value type"},function(e){var t="";return Object.keys(F).forEach((function(a){e==F[a]&&(t=a)})),t}(v)),r.a.createElement(Ie.b.Item,{label:"User value from"},m),r.a.createElement(Ie.b.Item,{label:"User value to"},b),g===x.SEALED1||g===x.SEALED2?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b.Item,{label:"init_price"},E),r.a.createElement(Ie.b.Item,{label:"reservation_price"},d)),h?r.a.createElement(Ie.b.Item,{label:"winner"},h):g!==x.SEALED1&&g!==x.SEALED2?r.a.createElement(Ie.b.Item,{label:"current price"},I):null,p?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b.Item,{label:"is_auto"},p?"T":"F"),r.a.createElement(Ie.b.Item,{label:"auto_p_fragment"},s),r.a.createElement(Ie.b.Item,{label:"auto_t_fragment"},i)):null)))},ye=a(319),Oe=function(e){e.visible,e.close;var t,a=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b,{title:"Orders"}),"Total: ",(null===a||void 0===a?void 0:a.length)||0,r.a.createElement(ye.a,{columns:[{title:"Price",dataIndex:"price",onFilter:function(e,t){return 0===t.name.indexOf(e)},sorter:function(e,t){return e.price-t.price},sortDirections:["descend","ascend"]},{title:"Name",dataIndex:"name"},{title:"Init value",dataIndex:"init_value",onFilter:function(e,t){return 0===t.address.indexOf(e)},sorter:function(e,t){return e.init_value-t.init_value},sortDirections:["descend","ascend"]},{title:"Time",dataIndex:"time"}],dataSource:(t=a,t&&t.map((function(e){return{price:e.price,name:e.player.name,init_value:e.player.init_value,time:e.createdAt.split(".")[0].split("T").join(" ")}}))),pagination:!1,scroll:{y:200}}))},ke=function(e){e.visible,e.close;var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.b,{title:"Players"}),"Total: ",(null===t||void 0===t?void 0:t.length)||0,r.a.createElement(ye.a,{columns:[{title:"Name",dataIndex:"name",onFilter:function(e,t){return 0===t.name.indexOf(e)},sorter:function(e,t){return e.name.length-t.name.length},sortDirections:["descend","ascend"]},{title:"Sent order",dataIndex:"hasSent",filters:[{text:"T",value:"T"},{text:"F",value:"F"}],onFilter:function(e,t){return t.hasSent===e},sorter:function(e,t){return e.price-t.price},sortDirections:["descend","ascend"]}],dataSource:function(e){return e&&e.map((function(e){return console.log({name:e.name,hasSent:e.init_value>e.current_value}),{name:e.name,hasSent:e.init_value>e.current_value?"T":"F"}}))}(t),pagination:!1,scroll:{y:200}}))};var Ne=function(e){var t=r.a.useState(),a=Object(s.a)(t,2),c=(a[0],a[1],r.a.useState(0)),l=Object(s.a)(c,2),o=(l[0],l[1]),m=Object(n.useState)(!1),E=Object(s.a)(m,2),p=(E[0],E[1]),f=Object(y.c)((function(e){return e.currentAuction})),d=Object(y.c)((function(e){return e.showMenu})),b=Object(y.b)();r.a.useEffect((function(){!function(){var t=be.a.parse(e.location.search);v(t.no)}(),console.log(f,8888777)}),[e]);var v=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,K(t);case 4:(a=e.sent)&&b(g(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){var a;switch(e){case"start":S(),a=z(f.no);break;case"close":console.log("\u5df2\u7d93\u95dc\u4e86"),p(!0),a=J(f.no);break;case"updateWithCountDown":S()}a.then((function(e){e&&b(g(e))}))};function S(){setTimeout((function(){K(f.no).then((function(e){e&&(b(g(e)),e.close_time||S())}))}),1e3)}var I=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement("div",{className:"container"},d?r.a.createElement(Se,null):null,f.no?r.a.createElement("div",{className:"auctionBlock"},r.a.createElement("div",{className:"start_btn"},r.a.createElement(_.a,{type:"primary",onClick:function(){h("start")}},"Start"),r.a.createElement(_.a,{onClick:function(){h("close")}},"Close")),r.a.createElement(_e,{data:f}),f.auc_type===x.DUTCH?r.a.createElement("div",{className:"myOrder"},r.a.createElement(ae.a,{onChange:function(e){return o(e)}}),r.a.createElement(_.a,{type:"primary",onClick:function(){I()}},"DEDUCT"),r.a.createElement(_.a,{onClick:function(){o("")}},"Reset")):null,r.a.createElement(Oe,{data:f.orders}),r.a.createElement(ke,{data:f.players})):r.a.createElement("h1",null,"hellow world")))},we=(a(307),a(308),function(e){return n.createElement("div",{className:"invitationNavBar"},n.createElement("div",{className:"groupLogo"},n.createElement("div",{className:"logoTxt"},"Auction Game"),n.createElement("div",{className:"logoIcon"},n.createElement(oe.a,{icon:ue.a}))))}),Ce=a(309),Ae=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE||"https://autcion.herokuapp.com/";var je=function(e){var t=r.a.useState({}),a=Object(s.a)(t,2),n=a[0],c=a[1];r.a.useEffect((function(){!function(){var t=be.a.parse(e.location.search);console.log(t),c(t)}()}),[e]);var l="".concat(Ae,"/bid?no=").concat(n.no);return r.a.createElement("div",{className:"App"},r.a.createElement(we,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"invitation"},r.a.createElement("h1",null,"Welcome to join the auction! "),r.a.createElement("h3",null,"Auction title: ",n.title),r.a.createElement("h3",null,"Auction no: ",n.no),r.a.createElement("div",{className:"qrCode"},r.a.createElement(Ce,{value:l})),r.a.createElement("div",null,r.a.createElement("a",{href:l},l)))))},Te=(a(315),{labelCol:{span:8},wrapperCol:{span:16}}),De={wrapperCol:{offset:8,span:16}};var Le=function(e){var t=O.a.useForm(),a=Object(s.a)(t,1)[0],n=r.a.useState(0),c=Object(s.a)(n,2),l=c[0],o=c[1],m=Object(y.c)((function(e){return e.playerData})),E=Object(y.c)((function(e){return e.showPlayerPage})),p=Object(y.c)((function(e){return e.currentAuction})),f=Object(y.b)();r.a.useEffect((function(){!function(){var t=be.a.parse(e.location.search);a.setFieldsValue({auctionNo:t.no})}()}),[e]);var b=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auctionNo,n=t.name,e.next=3,V(a,n);case 3:if(!((r=e.sent).status>=400)){e.next=7;break}return I.b.warning(r.message),e.abrupt("return");case 7:f({type:d,data:r}),f(g(r.auction)),o(""),h();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={player_id:m.id,price:t?p.current_price:l},e.next=3,W(p.no,a);case 3:if(!((n=e.sent).status>=400)){e.next=7;break}return I.b.warning(n.message),e.abrupt("return");case 7:I.b.success("Your order(price at".concat(a.price,") had been sent"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function h(){setTimeout((function(){K(p.no).then((function(e){e&&(f(g(e)),e.close_time||h())}))}),1e3)}return r.a.createElement("div",{className:"App"},r.a.createElement(we,null),r.a.createElement("div",{className:"container"},E?r.a.createElement("div",{className:"auctionBlock"},r.a.createElement(_e,{data:p,isPlayer:!0,playerInfo:m}),r.a.createElement("div",{className:"currentPrice"},"current price: ",p.current_price||"-"),p.type===x.DUTCH?r.a.createElement(_.a,{type:"primary",onClick:function(){v(!0)}},"Accept Now"):null,r.a.createElement("div",{className:"myOrder"},r.a.createElement(ae.a,{onChange:function(e){return o(e)}}),r.a.createElement(_.a,{type:"primary",onClick:function(){v()}},"BID"),r.a.createElement(_.a,{onClick:function(){o("")}},"Reset"))):r.a.createElement("div",{className:"bid"},r.a.createElement(O.a,Object.assign({},Te,{form:a,name:"control-hooks",onFinish:b}),r.a.createElement(O.a.Item,{name:"auctionNo",label:"Auction No",rules:[{required:!0,message:"Please input a auction no!"}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input an user name!"}]},r.a.createElement(N.a,null)),r.a.createElement(O.a.Item,De,r.a.createElement(_.a,{type:"primary",htmlType:"submit"},"Submit"),r.a.createElement(_.a,{htmlType:"button",onClick:function(){a.setFieldsValue({auctionNo:"",name:""})}},"Reset"))))))},xe=a(33),Fe=a(117),Ue=a(1),Pe={user:{},isLogin:!1,currentCountry:"globle",showMenu:!1,showCreatePanel:!1,showPlayerPage:!1,currentAuction:{},playerData:{}};a(316);var He=Object(Fe.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return console.log("reducser",t),Object(Ue.a)(Object(Ue.a)({},e),{},{user:t.data,showMenu:!0,isLogin:!0});case E:return console.log("SET_CURRENT_AUCTION",t.data),Object(Ue.a)(Object(Ue.a)({},e),{},{currentAuction:t.data});case p:return console.log("SET_SHOW_MENU",t),Object(Ue.a)(Object(Ue.a)({},e),{},{showMenu:t.data});case b:return Object(Ue.a)(Object(Ue.a)({},e),{},{isLogin:!1,user:{}});case f:return Object(Ue.a)(Object(Ue.a)({},e),{},{showCreatePanel:t.data});case d:return Object(Ue.a)(Object(Ue.a)({},e),{},{playerData:t.data,showPlayerPage:!0});default:return e}}));l.a.render(r.a.createElement(y.a,{store:He},r.a.createElement(ve.a,null,r.a.createElement(xe.c,null,r.a.createElement(xe.a,{exact:!0,path:"/",component:Ne}),r.a.createElement(xe.a,{path:"/invitation",component:je}),r.a.createElement(xe.a,{path:"/bid",component:Le})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[317,1,2]]]);
//# sourceMappingURL=main.fe3ebfce.chunk.js.map